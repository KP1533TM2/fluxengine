syntax = "proto2";

import "lib/decoders/decoders.proto";
import "lib/encoders/encoders.proto";
import "lib/imagereader/imagereader.proto";
import "lib/imagewriter/imagewriter.proto";
import "lib/fluxsource/fluxsource.proto";
import "lib/fluxsink/fluxsink.proto";
import "lib/usb/usb.proto";
import "lib/geometry/geometry.proto";
import "lib/common.proto";

message InputProto {
	oneof input {
		ImageReaderProto image = 1;
		FluxSourceProto flux = 2;
	}
}

message OutputProto {
	oneof output {
		ImageWriterProto image = 1;
		FluxSinkProto flux = 2;
	}
}

message ConfigProto {
	optional string comment = 1;

	optional InputProto input = 2;
	optional OutputProto output = 3;
	optional EncoderProto encoder = 4;
	optional DecoderProto decoder = 5;
	optional UsbProto usb = 6;
	optional GeometryProto geometry = 7;

	optional RangeProto cylinders = 8;
	optional RangeProto heads = 9;
}

